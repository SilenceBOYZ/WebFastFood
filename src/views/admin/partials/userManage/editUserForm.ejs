<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Catergory</title>
  <link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
  crossorigin="anonymous"
  />
  <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
  />
  <link rel="stylesheet" href="../css/admin.css" />
</head>
<body class="edit-item-page">
  <div class="form-crudEdit formActive" id="editForm">
    <form class="row g-3 form-crud__form" enctype="multipart/form-data" action="../handle-user/edit-user?_method=PUT&id=<%= userData[0].id %>" method="POST">
      <div class="col-12">
        <label for="Useremail" class="form-label label-title">Email</label>
        <input type="text" class="form-control input-title" id="Useremail" name="userEmail" value="<%= userData[0].email %>">
        <span class="text-error-message"></span>
      </div>
      <div class="col-12">
        <label for="Userpassword" class="form-label label-title">Mật khẩu</label>
        <input type="password" class="form-control input-title" id="Userpassword" name="userPassword" value="<%= userData[0].userPassword %>">
        <span class="text-error-message"></span>
      </div>
      <div class="col-12">
        <label for="Username" class="form-label label-title">Tên người dùng</label>
        <input type="text" class="form-control input-title" id="Username" name="userName" value="<%= userData[0].userName %>">
        <span class="text-error-message"></span>
      </div>
      <div class="col-6" id="editforminput">
        <label for="productimage" class="form-label label-title">Upload hình ảnh</label>
        <input type="file" accept="" class="form-control input-title mb-2" id="productimage" name="userImage">
        <span class="text-error-message"></span>
      </div>
      <div class="col-6">
        <label for="UserRole" class="form-label label-title">RoleId</label>
        <select id="UserRole" class="form-select input-title" name="userRole">
          <option value="<%= userData[0].roleId %>" selected><%= userData[0].roleName %></option>
          <% for(let i = 0; i < roleSelected.length; i++) { %>
            <% if(userData[0].roleName === roleSelected[i].roleName) { %>
            <% continue; } else { %>
            <option value="<%= roleSelected[i].id %>"><%= roleSelected[i].roleName %></option>
          <% } } %>
        </select>
        <span class="text-error-message"></span>
      </div>  
  
      <div class="col-12 mb-3">
        <div class="image-holder">
          <div class="image-holder__img">
            <img src="../../img/uploads/userImages/<%= userData[0].userImage %>" alt="Image" id="output" class="image-holder__image">
            <input type="hidden" name="old_image" value="<%= userData[0].userImage %>">
          </div>
        </div>
      </div>
     
      <div class="col-12 mt-5 mb-3 edit-form-btn-wrap">
        <a class="btn btn-Submit" href="../admin?page=userPage">Quay về</a>
        <button type="submit" id="addBtn" class="btn btn-Submit btn-admin-page">Thay đổi thông tin</button>
      </div>
    </form>
  </div>
  <script src="../js/previewImage.js"></script>
  <script src="../js/validateform.js"></script>
</body>
</html>
